<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="749.75464"
   height="644.1817"
   id="svg2"
   version="1.1"
   inkscape:version="0.48.2 r9819"
   sodipodi:docname="joints.svg">
  <defs
     id="defs4" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4142136"
     inkscape:cx="284.27969"
     inkscape:cy="86.62805"
     inkscape:document-units="px"
     inkscape:current-layer="g3778-1"
     showgrid="false"
     inkscape:object-paths="false"
     inkscape:window-width="1920"
     inkscape:window-height="1018"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     fit-margin-top="20"
     fit-margin-left="20"
     fit-margin-right="60"
     fit-margin-bottom="20" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(4.1633785,3.188838)">
    <g
       id="g3778"
       transform="translate(22,-35)">
      <path
         style="fill:none;stroke:#ffff00;stroke-width:1.07947004px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="m 15.187624,119.68834 182.095166,0"
         id="path3888"
         inkscape:connector-curvature="0" />
      <path
         inkscape:connector-curvature="0"
         id="path3761"
         d="m 71.785714,200.86218 0,-148.551018"
         style="fill:none;stroke:#ae5151;stroke-width:1px;stroke-linecap:round;stroke-linejoin:miter;stroke-opacity:1" />
      <path
         inkscape:connector-curvature="0"
         id="path2987"
         d="M 71.785714,119.86218 141.78571,54.862181"
         style="fill:#483737;stroke:#483737;stroke-width:1px;stroke-linecap:round;stroke-linejoin:miter;stroke-opacity:1" />
      <path
         inkscape:connector-curvature="0"
         id="path3759"
         d="M 173.24116,210.40004 71.785714,119.86218"
         style="fill:none;stroke:#50a25c;stroke-width:1px;stroke-linecap:round;stroke-linejoin:miter;stroke-opacity:1" />
      <text
         sodipodi:linespacing="125%"
         id="text3766"
         y="163.07648"
         x="126.78571"
         style="font-size:16px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#50a25c;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="163.07648"
           x="126.78571"
           id="tspan3768"
           sodipodi:role="line">A</tspan></text>
      <text
         sodipodi:linespacing="125%"
         id="text3770"
         y="83.076469"
         x="101.07143"
         style="font-size:16px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#483737;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="83.076469"
           x="101.07143"
           id="tspan3772"
           sodipodi:role="line">B</tspan></text>
      <text
         sodipodi:linespacing="125%"
         id="text3774"
         y="176.75456"
         x="139.21352"
         style="font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#aa4400;fill-opacity:1;stroke:none;font-family:Consolas;-inkscape-font-specification:Consolas"
         xml:space="preserve"><tspan
           y="176.75456"
           x="139.21352"
           id="tspan3776"
           sodipodi:role="line">A.successor == B</tspan></text>
      <text
         sodipodi:linespacing="125%"
         id="text3770-5"
         y="196.58876"
         x="59.003906"
         style="font-size:16px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#ae5151;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="196.58876"
           x="59.003906"
           id="tspan3772-5"
           sodipodi:role="line">C</tspan></text>
      <text
         xml:space="preserve"
         style="font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#9d9d00;fill-opacity:1;stroke:none;font-family:Consolas;-inkscape-font-specification:Consolas"
         x="143.43913"
         y="119.21346"
         id="text3890"
         sodipodi:linespacing="125%"><tspan
           sodipodi:role="line"
           id="tspan3892"
           x="143.43913"
           y="119.21346">scanline</tspan></text>
    </g>
    <g
       transform="translate(19.841336,229.5604)"
       id="g3778-1">
      <path
         style="fill:none;stroke:#ffff00;stroke-width:1.07947004px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="m 6.1968704,119.86218 182.0951596,0"
         id="path3888-1"
         inkscape:connector-curvature="0" />
      <text
         xml:space="preserve"
         style="font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#9d9d00;fill-opacity:1;stroke:none;font-family:Consolas;-inkscape-font-specification:Consolas"
         x="134.80193"
         y="119.2731"
         id="text3890-1"
         sodipodi:linespacing="125%"><tspan
           sodipodi:role="line"
           id="tspan3892-5"
           x="134.80193"
           y="119.2731">scanline</tspan></text>
      <path
         inkscape:connector-curvature="0"
         id="path3761-7"
         d="m 71.785714,200.86218 0,-148.551018"
         style="fill:none;stroke:#ae5151;stroke-width:1px;stroke-linecap:round;stroke-linejoin:miter;stroke-opacity:1" />
      <path
         inkscape:connector-curvature="0"
         id="path2987-4"
         d="M 71.785714,119.86218 141.78571,54.862181"
         style="fill:#483737;stroke:#483737;stroke-width:1px;stroke-linecap:round;stroke-linejoin:miter;stroke-opacity:1" />
      <path
         inkscape:connector-curvature="0"
         id="path3759-0"
         d="M 173.24116,210.40004 60.785714,119.86218"
         style="fill:none;stroke:#50a25c;stroke-width:1px;stroke-linecap:round;stroke-linejoin:miter;stroke-opacity:1" />
      <text
         sodipodi:linespacing="125%"
         id="text3766-9"
         y="163.07648"
         x="126.78571"
         style="font-size:16px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#50a25c;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="163.07648"
           x="126.78571"
           id="tspan3768-4"
           sodipodi:role="line">A</tspan></text>
      <text
         sodipodi:linespacing="125%"
         id="text3770-8"
         y="83.076469"
         x="101.07143"
         style="font-size:16px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#483737;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="83.076469"
           x="101.07143"
           id="tspan3772-8"
           sodipodi:role="line">B</tspan></text>
      <text
         sodipodi:linespacing="125%"
         id="text3774-2"
         y="225.01445"
         x="9.1094513"
         style="font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#aa4400;fill-opacity:1;stroke:none;font-family:Consolas;-inkscape-font-specification:Consolas"
         xml:space="preserve"><tspan
           y="225.01445"
           x="9.1094513"
           id="tspan3776-4"
           sodipodi:role="line">A.topXIntercept = A.bottomX + A.dx * ( yt - A.bottomY)</tspan></text>
      <text
         sodipodi:linespacing="125%"
         id="text3770-5-1"
         y="199.08217"
         x="57.385078"
         style="font-size:16px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#ae5151;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="199.08217"
           x="57.385078"
           id="tspan3772-5-7"
           sodipodi:role="line">C</tspan></text>
      <text
         xml:space="preserve"
         style="font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#4d4d4d;fill-opacity:1;stroke:none;font-family:Consolas;-inkscape-font-specification:Consolas"
         x="27"
         y="405.86218"
         id="text3918"
         sodipodi:linespacing="125%"
         transform="translate(-21.25555,-164.50658)"><tspan
           sodipodi:role="line"
           id="tspan3920"
           x="27"
           y="405.86218">По причине указанной в <a
   xlink:href="float_slope_issue.txt"
   id="a3022"
   style="font-style:oblique;fill:#6495ed;-inkscape-font-specification:Consolas Oblique">&quot;float_slope_issue.txt&quot;</a><tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3932"> A.topXIntercept</tspan> примерно в 5% случаев будет левее</tspan><tspan
           sodipodi:role="line"
           x="27"
           y="420.86218"
           id="tspan3922"><tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3944">C.topXIntercept</tspan> тогда как <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3946">B.bottomXIntercept</tspan> всегда равно <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3948">C.topXIntercept</tspan>. Это приведет к тому что</tspan><tspan
           sodipodi:role="line"
           x="27"
           y="435.86218"
           id="tspan3924">граница <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3950">AB</tspan> (<tspan
   style="font-style:oblique;-inkscape-font-specification:Consolas Oblique"
   id="tspan3952">boundary</tspan>) пересечет другую границу только один раз тогда как для правильной работы</tspan><tspan
           sodipodi:role="line"
           x="27"
           y="450.86218"
           id="tspan3942">алгоритма должно быть либо два пересечения либо ноль.</tspan></text>
      <text
         xml:space="preserve"
         style="font-size:14px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Times New Roman;-inkscape-font-specification:'Times New Roman, Bold'"
         x="-4.2849879"
         y="42.86301"
         id="text3926"
         sodipodi:linespacing="125%"><tspan
           sodipodi:role="line"
           id="tspan3928"
           x="-4.2849879"
           y="42.86301">Под &quot;достаточным&quot; увеличением:</tspan></text>
      <text
         xml:space="preserve"
         style="font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#4d4d4d;fill-opacity:1;stroke:none;font-family:Consolas;-inkscape-font-specification:Consolas"
         x="5.3749151"
         y="314.03012"
         id="text3918-1"
         sodipodi:linespacing="125%"><tspan
           sodipodi:role="line"
           x="5.3749151"
           y="314.03012"
           id="tspan3942-1"><tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3132">UPD:</tspan> на самом деле вышеуказанная проблема не помешает правильной работе алгоритма! Да, сначала будет</tspan><tspan
           sodipodi:role="line"
           x="5.3749151"
           y="329.03012"
           id="tspan3122">одно пересечение (ребра <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3136">A</tspan> с ребром <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3138">C</tspan>). Ребро <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3140">A</tspan> в списке <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3142">AEL</tspan> переместится левее ребра <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3144">C</tspan>. Процессинг</tspan><tspan
           sodipodi:role="line"
           x="5.3749151"
           y="344.03012"
           id="tspan3126"><tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3146">AEL</tspan> приведет к тому что ребро <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3148">B</tspan><tspan
   style="font-style:oblique;-inkscape-font-specification:Consolas Oblique"
   id="tspan3152"> унаследует</tspan> позицию ребра <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3150">A</tspan> и так же окажется</tspan><tspan
           sodipodi:role="line"
           x="5.3749151"
           y="359.03012"
           id="tspan3128">левее ребра <tspan
   style="font-weight:bold;-inkscape-font-specification:Consolas Bold"
   id="tspan3154">C</tspan>. И, таким образом, <tspan
   style="font-style:oblique;-inkscape-font-specification:Consolas Oblique"
   id="tspan3156">buildIntersectionList ()</tspan> &quot;<tspan
   style="font-style:oblique;-inkscape-font-specification:Consolas Oblique"
   id="tspan3158">засечет</tspan>&quot; второе пересечение несмотря</tspan><tspan
           sodipodi:role="line"
           x="5.3749151"
           y="374.03012"
           id="tspan3130">на то, что математически есть только касание.</tspan><tspan
           sodipodi:role="line"
           x="5.3749151"
           y="389.03012"
           id="tspan3053">Учет <tspan
   style="font-style:oblique;-inkscape-font-specification:Consolas Oblique"
   id="tspan3055">когерентности</tspan>, заложенный в алгоритм Bala Vatti, спасает.</tspan></text>
    </g>
  </g>
</svg>
